---
import Navbar from "../components/UI/shared/navbar.svelte";
// import Sidebar from '../components/UI/Shared/sidebar.svelte'
import Grid from "../components/content/grid.svelte";
import Mobilnavbar from "../components/UI/shared/mobilnavbar.svelte";
import "../globalStyles.css";
import Css from 'json-to-css'

import jsoncss from '../CSSTheme.json'
const css = Css.of(jsoncss)
const baseUrl = import.meta.env.BASE_URL.replace(/\/$/, "");
// console.log(css)
const {
	title = "Kogvet Sektionen på Linköpings Universitet",
	isOpaque = false,
	active,
	customHead = false
} = Astro.props;
// const { customHead = false } = Astro.props;
---

<!DOCTYPE html>
<html data-theme={css} lang="en">
	
	<head>
		
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width" />
		<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
		<meta name="generator" content={Astro.generator} />
		<title>{title}</title>
		<slot name="head" />
	</head>
	<body>
		
		<header>
			<Navbar isOpaque={isOpaque} client:visible active={Astro.url.pathname} baseUrl={baseUrl}/>
			<Mobilnavbar client:visible />
		</header>

		<main id="swup">
			<slot />
		</main>

		<footer id="foot">
			<div>
				<h1>Made by kodvet</h1>
			</div>
		</footer>
		<script is:inline>
			const css = document.documentElement.dataset.theme
			document.querySelector(':root').innerHTML += `<style>${css}</style>`
		</script>
	</body>
</html>

<style lang="scss">

	html {
		font-family: "Gill Sans MT";
	}

	body {
		/* container-type: size; */
		min-height: 100vh;
		max-width: 100vw;
		display: flex;
		flex-direction: column;
		margin: 0;
		overflow: overlay;
		overflow-x: hidden;
		// background-image: url(https://patterncooler.com/gen/index/w/half_moon_repeat_pattern-227.jpg);
		// background-color: rgb(65, 82, 65);
		// background-blend-mode: multiply;
		// transition: all 0.3s;
		background-color: var(--background-color);
	}
	main {
		flex-grow: 0;
		margin-bottom: 60px;
	}

	footer {
		width: 100%;
		height: 130px;
		background-color: var(--footer-bg);
		margin-top: auto;
		// display: flex;
		// justify-self: end;
	}


	h1 {
		color: white;
	}
	*::-webkit-scrollbar-thumb {
		background-color: #00000000;
		border: 5px solid transparent;
		border-radius: 24px;
	}

	*::-webkit-scrollbar {
		display: block;
		width: 16px;
	}

	*::-webkit-scrollbar-button {
		display: none;
	}

	*::-webkit-scrollbar-track {
		background-color: #00000000;
	}

	*::-webkit-scrollbar-track-piece {
		background-color: #00000000;
	}

	*::-webkit-scrollbar-thumb {
		background-color: #00000040;
		border: 1px solid #ffffff40;
		border-radius: 24px;
	}
	// body::-webkit-scrollbar {
	// display: none;
	// width: 14px;
	// background: transparent;
	// left: 5px;
	// }

	// body::-webkit-scrollbar-track {
	// box-shadow: inset 0 0 6px rgba(0,0,0,0.3);
	// background-color: var(--reflex-vit);
	// border: black solid .5px;
	// border-radius: 10px;
	// }

	// body::-webkit-scrollbar-thumb {
	// background-color: var(--buckethat-svart);
	// border-radius: 10px;
	// }
</style>

<style is:global>
	code {
		font-family: Menlo, Monaco, Lucida Console, Liberation Mono,
			DejaVu Sans Mono, Bitstream Vera Sans Mono, Courier New,
			monospace;
	}
</style>
<script src="../swupApp.js"></script>

